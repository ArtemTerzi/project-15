!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequire12f5;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequire12f5=a);var o,i=a("cYjYj"),c=a("bpxeT"),u=a("8nrFW"),l=a("2TvXO");function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";return e<10?t+e:e},f=function(e){return"".concat(e.getFullYear(),"-").concat(d(e.getMonth()+1),"-").concat(d(e.getDate()))},g=function(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},v=function(e){return new Promise((function(t){var n=[],r=p(e).map((function(e){return{date:e.date,iso:e.iso,type:"previous"}})),a=y(e).map((function(e){return{date:e.date,iso:e.iso,type:"current"}}));n=n.concat(r).concat(a);var o=h(e,n.length).map((function(e){return{date:e.date,iso:e.iso,type:"next"}}));t(n.concat(o))}))},m=function(e){return function(t){return Array(e).fill().map(t)}},y=function(e){var t=g(e);return m(t)((function(t,n){var r=n+1;return e.setDate(r),{date:r,iso:f(e)}}))},p=function(e){var t,n,r=e.getMonth(),a=e.getFullYear(),o=Math.min(r-1,11),i=new Date(a,o),c=g(i),u=c-(t=e,n=new Date(t.getFullYear(),t.getMonth(),1).toDateString().substring(0,3),["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].indexOf(n))+1;return m(c-u+1)((function(e,t){var n=u+t;return i.setDate(n),{date:n,iso:f(i)}}))},h=function(e,t){var n=42-t,r=e.getMonth()+1===12?0:e.getMonth()+1,a=0===r?e.getFullYear()+1:e.getFullYear(),o=new Date(a,r);return m(n)((function(e,t){var n=t+1;return o.setDate(n),{date:n,iso:f(o)}}))};o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return n=[{key:"getDates",value:function(e){return new Promise((function(t){return t(v(e).then((function(e){return e.map((function(e){return e}))})))}))}},{key:"getMatrix",value:function(e){return new Promise((function(t){t(v(e).then((function(e){return e.reduce((function(e,t,n){return(n%7==0?e.push([t]):e[e.length-1].push(t))&&e}),[])})))}))}}],s((t=e).prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();var S,w=a("hqY0b"),L=a("l5bVx"),x="Expected a function",b=/^\s+|\s+$/g,_=/^[-+]0x[0-9a-f]+$/i,M=/^0b[01]+$/i,E=/^0o[0-7]+$/i,D=parseInt,q="object"==typeof t&&t&&t.Object===Object&&t,k="object"==typeof self&&self&&self.Object===Object&&self,O=q||k||Function("return this")(),C=Object.prototype.toString,T=Math.max,N=Math.min,Y=function(){return O.Date.now()};function j(e,t,n){var r,a,o,i,c,u,l=0,s=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError(x);function g(t){var n=r,o=a;return r=a=void 0,l=t,i=e.apply(o,n)}function v(e){return l=e,c=setTimeout(y,t),s?g(e):i}function m(e){var n=e-u;return void 0===u||n>=t||n<0||d&&e-l>=o}function y(){var e=Y();if(m(e))return p(e);c=setTimeout(y,function(e){var n=t-(e-u);return d?N(n,o-(e-l)):n}(e))}function p(e){return c=void 0,f&&r?g(e):(r=a=void 0,i)}function h(){var e=Y(),n=m(e);if(r=arguments,a=this,u=e,n){if(void 0===c)return v(u);if(d)return c=setTimeout(y,t),g(u)}return void 0===c&&(c=setTimeout(y,t)),i}return t=F(t)||0,R(n)&&(s=!!n.leading,o=(d="maxWait"in n)?T(F(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),h.cancel=function(){void 0!==c&&clearTimeout(c),l=0,r=u=a=c=void 0},h.flush=function(){return void 0===c?i:p(Y())},h}function R(t){var n=void 0===t?"undefined":e(L)(t);return!!t&&("object"==n||"function"==n)}function F(t){if("number"==typeof t)return t;if(function(t){return"symbol"==(void 0===t?"undefined":e(L)(t))||function(e){return!!e&&"object"==typeof e}(t)&&"[object Symbol]"==C.call(t)}(t))return NaN;if(R(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=R(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(b,"");var r=M.test(t);return r||E.test(t)?D(t.slice(2),r?2:8):_.test(t)?NaN:+t}S=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new TypeError(x);return R(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),j(e,t,{leading:r,maxWait:t,trailing:a})};var A=a("lw8lz"),P=a("3fSVz"),H=a("9hHld"),J=new(e(o)),z=document.querySelector(".calendar-modal-days"),B=document.querySelector(".calendar-month"),I=document.querySelector(".calendar-year"),G=document.querySelector(".calendar-date"),V=document.querySelector(".calendar-frame"),W=document.querySelector(".calendar-modal"),K=document.querySelector(".search__input"),$=(new Date).getFullYear(),U=(new Date).getMonth(),X=(new Date).getDate(),Q=new Date($,U),Z="".concat($).concat((U+1).toString().padStart(2,"0")).concat(X.toString().padStart(2,"0"));function ee(){B.textContent=["January","February","March","April","May","June","July","August","September","October","November","December"][U],I.textContent=$,G.textContent="".concat(X.toString().padStart(2,"0"),"/").concat((U+1).toString().padStart(2,"0"),"/").concat($)}function te(e){var t,n;t=((n=e).slice(-7).every((function(e){return"next"===e.type}))?n.slice(0,-7):n).map((function(e){var t=e.date,n=e.type,r="calendar-modal-day-item";return"previous"===n?r+=" calendar-modal-day-prev":"next"===n?r+=" calendar-modal-day-next":t===X&&(r+=" calendar-modal-day-curr"),'<li class="'.concat(r,'">').concat(t,"</li>")})).join(""),ee(),z.innerHTML=t}function ne(){return re.apply(this,arguments)}function re(){return(re=e(c)(e(l).mark((function t(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.getDates(Q);case 2:te(e.sent);case 4:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function ae(){G.textContent="Set date",""!==K.value&&(0,w.onSearchMarkup)(K.value,"Set date")}window.dateString=Z;var oe=0;function ie(e){!V.contains(e.target)&!W.contains(e.target)&&(V.parentNode.classList.remove("calendar-active"),document.removeEventListener("click",ie),0===oe?(ne(),oe=1):1===oe&&(ae(),oe=0))}function ce(e){var t=document.querySelectorAll(".calendar-modal-day-item"),n=!0,r=!1,a=void 0;try{for(var o,i=t[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var c=o.value;if(c.textContent==="".concat(e))return c}}catch(e){r=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}return null}function ue(e,t,n){X=e,U=t,$=n,Q=new Date($,U,X),Z="".concat($).concat((U+1).toString().padStart(2,"0")).concat(X.toString().padStart(2,"0")),""!==K.value&&(0,w.onSearchMarkup)(K.value,Z)}function le(e,t){return++e>11&&(t++,e=0),new Date(t,e,0).getDate()}V.addEventListener("click",(function(e){e.currentTarget.parentNode.classList.toggle("calendar-active"),document.addEventListener("click",ie),0===oe?(ne(),oe=1):1===oe&&(ae(),oe=0)})),W.addEventListener("click",(function(e){var t,n;e.target.classList.contains("calendar-modal-day-item")?function(e){var t=e.classList.contains("calendar-modal-day-prev"),n=e.classList.contains("calendar-modal-day-next"),r=Number(e.textContent),a=new Date,o=a.getFullYear(),i=a.getMonth(),c=a.getDate(),u=0;t&&(u=-1),n&&(u=1);var l=$,s=U+u,d=r;s<0?(l--,s=11):s>11&&(l++,s=0),l<o||l===o&&s<i||l===o&&s===i&&d<=c?ue(d,s,l):ue(c,i,o),e.classList.contains("calendar-modal-day-curr")||(document.querySelector(".calendar-modal-day-curr").classList.remove("calendar-modal-day-curr"),0===u&&d<c?e.classList.add("calendar-modal-day-curr"):(0===u||1===u&&U<s||ne(),ce(X).classList.add("calendar-modal-day-curr")),ee(),V.parentNode.classList.remove("calendar-active")),document.removeEventListener("click",ie)}(e.target):e.target.classList.contains("calendar-month-prev")?function(){var e=$,t=U-1;t<0&&(e--,t=11);var n=le(t,e);n>X&&(n=X),ue(n,t,e),ne()}():e.target.classList.contains("calendar-month-next")?function(){var e=new Date,t=e.getMonth(),n=e.getDate();if(U!==t||$!==e.getFullYear()){var r=$,a=U+1;a>11&&(r++,a=0);var o=le(a,r);o>n?o=n:o>X&&(o=X),ue(o,a,r),ne()}}():e.target.classList.contains("calendar-year-prev")?(t=$-1,n=U,ue(Math.min(X,le(n,t)),n,t),ne()):e.target.classList.contains("calendar-year-next")&&function(){var e=new Date,t=e.getFullYear(),n=e.getMonth();if(!($>=t)){var r=$+1,a=U,o=X;r===t?a>=n&&(a=n,o=Math.min(o,e.getDate())):o=Math.min(o,le(a,r)),ue(o,a,r),ne()}}()}));var se=document.querySelector(".filter-section"),de=document.querySelector(".category"),fe=document.querySelector(".category-others-chosen"),ge=document.querySelector(".category-list"),ve=document.querySelector(".category-modal-list"),me=document.querySelector(".category-others"),ye=[],pe="";function he(){var e=document.querySelector(".category-item-active");e&&(e.classList.remove("category-item-active"),pe="",fe.textContent="")}function Se(e){if(0===e.length)ve.innerHTML="";else{var t=e.map((function(e){return'<li class="category-modal-item">'.concat(e,"</li>")})).join("");ve.innerHTML=t}}function we(e){var t="";0===e.length?ge.innerHTML="":(t=e.map((function(e){return'<li class="category-btn">'.concat(e,"</li>")})).join(""),ge.innerHTML=t)}function Le(){var t=se.getBoundingClientRect().width,n=e(u)(ye);if(t<736)we([]),Se(ye);else if(736===t){var r=n.slice(0,4),a=n.splice(4);we(r),Se(a)}else if(1248===t){var o=n.slice(0,6),i=n.splice(6);we(o),Se(i)}}function xe(e){!me.contains(e.target)&!ve.contains(e.target)&&(me.classList.remove("category-others-active"),document.removeEventListener("click",xe))}window.selectedCategory=pe,(0,A.fetchNewsCategories)().then((function(e){ye=e,Le()})),me.addEventListener("click",(function(e){me.classList.toggle("category-others-active"),document.addEventListener("click",xe)})),de.addEventListener("click",(function(e){var t=e.target.classList.contains("category-btn"),n=e.target.classList.contains("category-others"),r=e.target.classList.contains("category-modal-item");(t&&!n||r)&&(e.target.textContent===pe?(he(),(0,H.fetchMostPopular)()):(he(),t?e.target.classList.add("category-item-active"):(fe.textContent=e.target.textContent,fe.parentNode.classList.add("category-item-active"))))})),window.addEventListener("resize",e(S)((function(e){Le()}),500));i=a("cYjYj");a("lVbBw");H=a("9hHld");var be=a("gwON5");a("hqY0b"),a("9cYNk");var _e=a("4Nugj"),Me=(P=a("3fSVz"),a("4VDi9"));a("l6TkS");var Ee=a("7GBA3"),De=document.querySelector(".home__inner"),qe=document.querySelector(".category-list"),ke=document.querySelector(".home__list"),Oe=document.querySelector(".category-others"),Ce=new(0,i.Paginator);function Te(e){if("LI"===e.target.nodeName){var t=e.target.textContent;(0,P.fetchByChoosenCategories)(t).then((function(e){var t=e.data.results,n=e.data.num_results,r=e.config.url,a=(0,be.getNormalizeResponse)(t,r);if(0===n)throw Ce.hide(),new Error(e.status);Ce.getRespForPagination(e,r,a)})).catch((function(e){console.error(e),(0,Me.renderMarkupError)(ke)}))}}
//! start new function for localStorage for read
De.getBoundingClientRect().height=De.getBoundingClientRect().height-700,(0,H.fetchMostPopular)().then((function(e){if(200!=e.status)throw new Error(e.status);var t=e.data.results,n=e.data.num_results,r=e.config.url,a=(0,be.getNormalizeResponse)(t,r);if(0===n)throw Ce.hide(),new Error(e.status);Ce.getRespForPagination(e,r,a)})).catch((function(e){console.error(e),(0,Me.renderMarkupError)(".home__inner")})),ke.addEventListener("click",(function(e){if("A"!==e.target.nodeName)return;var t=e.target.parentNode.parentNode,n=t.querySelector(".home__list-section").textContent,r=t.querySelector(".home__list-img").src,a=t.querySelector(".home__list-img").alt,o=t.querySelector(".home__list-title").textContent,i=t.querySelector(".home__list-text").textContent,c=t.querySelector(".home__list-date").textContent,u=t.querySelector(".home__list-link").href,l=g(),s={section:n,img:r,alt:a,title:o,text:i,date:c,link:u,isRead:!0,dateOfRead:l};try{var d=JSON.parse(localStorage.getItem(_e.refs.KEY_LOCAL_STORAGE));if(null===d)return void localStorage.setItem(_e.refs.KEY_LOCAL_STORAGE,JSON.stringify([s]));if(null!==d){d.every((function(e){return e.link!==s.link}))&&(d.push(s),localStorage.setItem(_e.refs.KEY_LOCAL_STORAGE,JSON.stringify(d)));var f=d.reduce((function(e,t){return t.link===s.link&&(t.dateOfRead=g(),t.isRead=!0),e.push(t),e}),[]);localStorage.setItem(_e.refs.KEY_LOCAL_STORAGE,JSON.stringify(f))}}catch(e){console.error(e),container.innerHTML=getMarkupError()}function g(){return new Date(Date.now()).toLocaleString().split(",")[0]}t.classList.contains("isRead")||t.classList.add("isRead")})),qe.addEventListener("click",Te),Oe.addEventListener("click",Te),ke.addEventListener("click",Ee.default)}();
//# sourceMappingURL=index.fc9f46b1.js.map
