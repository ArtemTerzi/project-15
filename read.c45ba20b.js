function t(t){t.innerHTML=""}const e=new class{getDayNumber(){return(new Date).getDay()}addLeadingZero(t){return String(t).padStart(2,"0")}getWeatherMurkup(t){const e=t.weather.map((({description:t})=>t)).join(", "),a=Math.round(t.main.temp),r=new Date,n=`${this.addLeadingZero(r.getDate())} ${this.months[r.getMonth()]} ${r.getFullYear()}`;let s="";return a>10?s="sun":a>=0&a<=10?s="cloudy":a<0&&(s="cold"),`\n\t\t<div class="weather-container">\n\t\t\t<div class="weather-container__top">\n\t\t\t\t<p class="weather-container__deg">${a}${this.degrees}</p>\n\t\t\t\t<div class="weather-container__top-wrapper">\n\t\t\t\t\t<p class="weather-container__top-dsecr">${e}</p>\n\t\t\t\t\t<p class="weather-container__top-location">${t.name}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="weather-container__img ${s}">\n\t\t\t\t\n\t\t\t</div>\n\n\t\t\t<div class="weather-container__footer">\n\t\t\t\t<p class="weather-container__footer-day">${this.daysOfWeek[this.getDayNumber()]}</p>\n\t\t\t\t<p class="weather-container__footer-date">${n}</p>\n\t\t\t\t<button class="btn__footer-week">weather for week</button>\n\t\t\t</div>\n\t\t</div>`}constructor(){this.daysOfWeek=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],this.months=["Jan","Feb","March","Apr","May","June","July","Aug","Sep","Oct","Nov","Dec"],this.degrees="&deg;"}};var a=class{checkWeather(){0===this.weatherElem.children.length?(this.weatherElem.insertAdjacentHTML("beforeend",'\n\t<div class="preload-wrapper load">\n\t\t<div class="preload">\n\t\t\t<div class="loader"></div>\n\t\t</div>\n\t</div>\n\t'),this.addClassLoad(this.weatherElem)):t(this.weatherElem)}addClassLoad(t){t.classList.add("load")}removeClassLoad(t){t.classList.remove("load")}async getSuccsess(a){try{const r=document.querySelector(".preload-wrapper"),n=await a.coords.latitude,s=`https://api.openweathermap.org/data/2.5/weather?units=metric&lat=${n}&lon=${await a.coords.longitude}&appid=${this.apiKey}`,o=await fetch(s),i=await o.json();await this.weatherElem.insertAdjacentHTML("beforeend",e.getWeatherMurkup(i)),this.weatherElem.children.length>0&&(this.removeClassLoad(this.weatherElem),this.removeClassLoad(r),t(r))}catch(t){console.log(t)}}async getError(t){try{const a=t.message,r=document.querySelector(".preload-wrapper"),n=`https://api.openweathermap.org/data/2.5/weather?units=metric&q=Kyiv&appid=${this.apiKey}`,s=await fetch(n),o=await s.json();await this.removeClassLoad(this.weatherElem),await this.removeClassLoad(r),r.innerHTML="",await this.weatherElem.insertAdjacentHTML("beforeend",e.getWeatherMurkup(o)),console.log(a)}catch(t){console.log(t)}}constructor(){this.weatherElem=document.querySelector(".weather"),this.apiKey="c76da9d16a38d15146607ff522b06c37"}};!function(){const t=new a;navigator.geolocation.getCurrentPosition(t.getSuccsess.bind(t),t.getError.bind(t)),t.checkWeather()}();
//# sourceMappingURL=read.c45ba20b.js.map
