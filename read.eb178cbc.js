!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},n=e.parcelRequire12f5;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var i={id:e,exports:{}};return t[e]=i,n.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},e.parcelRequire12f5=n);var i=n("9XI3k");n("3pWjR");var a=n("9cYNk"),l=n("4Nugj");n("4Nugj");a=n("9cYNk"),document.querySelector(".readPage-list");var o=n("7GBA3");n("hqY0b");var s=document.querySelector("main"),c=document.querySelector(".readPage-list");function u(){return new Date(Date.now()).toLocaleString().split(",")[0]}!function(){try{!function(e){function t(e,t){var r=t.filter((function(t){return t.dateOfRead===e}));return(0,a.getMarkup)(r)}var r=e.flatMap((function(e){return e.dateOfRead})).filter((function(e,t,r){return r.indexOf(e)===t})).map((function(r){return'<li class="readPage-list__item">\n        <h2 class="readPage-list__title">'.concat(r.replaceAll(".","/"),'</h2>\n        <svg class="readPage-list__svg" aria-label="open news" width="15px" height="20px">\n        <use href="/icons.adfc4680.svg#dilka-bottom"></use>\n    </svg>\n    <ul class="read-page-list__list">').concat(t(r,e),"</ul>\n    </li>")})).join("");c.insertAdjacentHTML("beforeend",r)}(JSON.parse(localStorage.getItem(l.refs.KEY_LOCAL_STORAGE)).reduce((function(e,t){return t.isRead&&e.push(t),e}),[]))}catch(e){console.log(e),s.innerHTML=(0,i.getMarkupError)()}}(),c.addEventListener("click",(function(e){if("A"!==e.target.nodeName)return;var t=e.target.parentNode.parentNode,r=function(e){var t=e.querySelector(".home__list-section").textContent,r=e.querySelector(".home__list-img").src,n=e.querySelector(".home__list-img").alt,i=e.querySelector(".home__list-title").textContent,a=e.querySelector(".home__list-text").textContent,l=e.querySelector(".home__list-date").textContent,o=e.querySelector(".home__list-link").href,s=u();return{section:t,img:r,alt:n,title:i,text:a,date:l,link:o,isRead:!0,dateOfRead:s}}(t);try{var n=JSON.parse(localStorage.getItem(l.refs.KEY_LOCAL_STORAGE));if(null===n)return void localStorage.setItem(l.refs.KEY_LOCAL_STORAGE,JSON.stringify([r]));if(null!==n){n.every((function(e){return e.link!==r.link}))&&(n.push(r),localStorage.setItem(l.refs.KEY_LOCAL_STORAGE,JSON.stringify(n)));var a=n.reduce((function(e,t){return t.link===r.link&&(t.dateOfRead=u(),t.isRead=!0),e.push(t),e}),[]);localStorage.setItem(l.refs.KEY_LOCAL_STORAGE,JSON.stringify(a))}}catch(e){console.error(e),s.innerHTML=(0,i.getMarkupError)()}t.classList.contains("isRead")||t.classList.add("isRead")})),c.addEventListener("click",o.default),c.addEventListener("click",(function(e){if("H2"!==e.target.nodeName)return;if("H2"!==e.target.nodeName)return;var t=e.target;t.nextElementSibling.classList.toggle("is-open"),t.nextElementSibling.nextElementSibling.classList.toggle("visually-hidden")})),function(e){var t=e.items,r=e.removeClass,n=e.innerList,i=!0,a=!1,l=void 0;try{for(var o,s=t.children[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var c=o.value.querySelector(n),u=!0,d=!1,f=void 0;try{for(var g,v=c.children[Symbol.iterator]();!(u=(g=v.next()).done);u=!0){var m=g.value;m.classList.contains(r)&&m.remove()}}catch(e){d=!0,f=e}finally{try{u||null==v.return||v.return()}finally{if(d)throw f}}}}catch(e){a=!0,l=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw l}}}({items:c,removeClass:"weather-container",innerList:".read-page-list__list"})}();
//# sourceMappingURL=read.eb178cbc.js.map
