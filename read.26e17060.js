var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},r=e.parcelRequire12f5;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,r.call(i.exports,i,i.exports),i.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){n[e]=t},e.parcelRequire12f5=r);var i=r("eLjGg");r("lk2cy");var l=r("8ySVs"),o=r("krGWQ");r("krGWQ");l=r("8ySVs");document.querySelector(".readPage-list");var s=r("e4bIU");r("41I1F");const a=document.querySelector("main"),c=document.querySelector(".readPage-list");function d(){return new Date(Date.now()).toLocaleString().split(",")[0]}!function(){try{const e=JSON.parse(localStorage.getItem(o.refs.KEY_LOCAL_STORAGE));!function(e){function t(e,t){const n=t.filter((t=>t.dateOfRead===e));return(0,l.getMarkup)(n)}const n=e.flatMap((e=>e.dateOfRead)).filter(((e,t,n)=>n.indexOf(e)===t)).map((n=>`<li class="readPage-list__item">\n        <h2 class="readPage-list__title">${n.replaceAll(".","/")}</h2>\n        <svg class="readPage-list__svg" aria-label="open news" width="15px" height="20px">\n        <use href="/icons.adfc4680.svg#dilka-bottom"></use>\n    </svg>\n    <ul class="read-page-list__list">${t(n,e)}</ul>\n    </li>`)).join("");c.insertAdjacentHTML("beforeend",n)}(e.reduce(((e,t)=>(t.isRead&&e.push(t),e)),[]))}catch(e){console.log(e),a.innerHTML=(0,i.getMarkupError)()}}(),c.addEventListener("click",(function(e){if("A"!==e.target.nodeName)return;const t=e.target.parentNode.parentNode,n=function(e){const t=e.querySelector(".home__list-section").textContent,n=e.querySelector(".home__list-img").src,r=e.querySelector(".home__list-img").alt,i=e.querySelector(".home__list-title").textContent,l=e.querySelector(".home__list-text").textContent,o=e.querySelector(".home__list-date").textContent,s=e.querySelector(".home__list-link").href,a=d();return{section:t,img:n,alt:r,title:i,text:l,date:o,link:s,isRead:!0,dateOfRead:a}}(t);try{const e=JSON.parse(localStorage.getItem(o.refs.KEY_LOCAL_STORAGE));if(null===e)return void localStorage.setItem(o.refs.KEY_LOCAL_STORAGE,JSON.stringify([n]));if(null!==e){e.every((e=>e.link!==n.link))&&(e.push(n),localStorage.setItem(o.refs.KEY_LOCAL_STORAGE,JSON.stringify(e)));const t=e.reduce(((e,t)=>(t.link===n.link&&(t.dateOfRead=d(),t.isRead=!0),e.push(t),e)),[]);localStorage.setItem(o.refs.KEY_LOCAL_STORAGE,JSON.stringify(t))}}catch(e){console.error(e),a.innerHTML=(0,i.getMarkupError)()}t.classList.contains("isRead")||t.classList.add("isRead")})),c.addEventListener("click",s.default),c.addEventListener("click",(function(e){if("H2"!==e.target.nodeName)return;if("H2"!==e.target.nodeName)return;const t=e.target;t.nextElementSibling.classList.toggle("is-open"),t.nextElementSibling.nextElementSibling.classList.toggle("visually-hidden")}));!function({items:e,removeClass:t,innerList:n}){for(let r of e.children){const e=r.querySelector(n);for(let n of e.children)n.classList.contains(t)&&n.remove()}}({items:c,removeClass:"weather-container",innerList:".read-page-list__list"});
//# sourceMappingURL=read.26e17060.js.map
